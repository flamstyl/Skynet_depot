# Claude DevBox - Server Configuration
# This is the default configuration file

server:
  port: 3000
  host: 0.0.0.0
  cors:
    enabled: true
    origins:
      - http://localhost:5173
      - http://localhost:3000

docker:
  image: devbox-sandbox:latest
  memory: 512  # MB
  cpuQuota: 50000  # 50% of one CPU
  networkEnabled: true
  timeout: 300000  # 5 minutes in milliseconds
  autoRemove: false

autofix:
  enabled: true
  maxAttempts: 5
  timeout: 60000  # 60 seconds per attempt
  retryDelay: 2000  # 2 seconds between attempts

vm:
  linux:
    enabled: false
    type: qemu
    sshPort: 2222
    user: devbox
    password: devbox
    timeout: 60000
  windows:
    enabled: false
    type: virtualbox
    vmName: DevBox-Windows
    user: devbox
    password: devbox
    timeout: 60000

workspace:
  inputDir: ../workspace/input
  outputDir: ../workspace/output

logging:
  level: info  # debug, info, warn, error
  retentionDays: 30
  maxFileSize: 10485760  # 10MB
  maxFiles: 5

mcp:
  enabled: false
  claudeApiKey: ""
  endpoint: ""
  model: claude-3-5-sonnet-20241022
  maxTokens: 4096
  temperature: 0.7

security:
  rateLimit:
    enabled: true
    windowMs: 900000  # 15 minutes
    maxRequests: 100
  sandbox:
    allowedNetworkHosts:
      - "*"  # Allow all (change in production)
    blockedCommands:
      - rm -rf /
      - dd if=/dev/zero
      - :(){ :|:& };:  # Fork bomb
