<Window
    x:Class="TaskFlow.Desktop.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TaskFlow.Desktop"
    xmlns:views="using:TaskFlow.Desktop.Views"
    Title="TaskFlow - Skynet Task Orchestrator"
    Width="1400"
    Height="900">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Title Bar -->
        <Grid Grid.Row="0" Background="{ThemeResource SystemControlAcrylicWindowBrush}" Padding="16,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock
                Grid.Column="0"
                Text="TaskFlow MCP"
                FontSize="20"
                FontWeight="SemiBold"
                VerticalAlignment="Center" />

            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                <Button Content="Sync MCP" Click="SyncButton_Click" Style="{ThemeResource AccentButtonStyle}" />
                <Button Content="Reprioriser" Click="PrioritizeButton_Click" />
                <Button Content="Settings" Click="SettingsButton_Click" />
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <NavigationView
            Grid.Row="1"
            x:Name="NavView"
            IsBackButtonVisible="Collapsed"
            IsSettingsVisible="False"
            SelectionChanged="NavView_SelectionChanged">

            <NavigationView.MenuItems>
                <NavigationViewItem Content="Dashboard" Icon="Home" Tag="Dashboard" IsSelected="True" />
                <NavigationViewItem Content="All Tasks" Icon="List" Tag="AllTasks" />
                <NavigationViewItem Content="Pomodoro" Icon="Clock" Tag="Pomodoro" />
            </NavigationView.MenuItems>

            <Frame x:Name="ContentFrame" />
        </NavigationView>
    </Grid>
</Window>
